{
    "type": "json_schema",
    "json_schema": {
        "name": "stance_annotation",
        "description": "The stance of the author towards the target, including reasoning and confidence in the stance classification.",
        "strict": true,
        "schema": {
            "type": "object",
            "required": [
                "final_stance",
                "stance_justification",
                "stance_confidence"
            ],
            "additionalProperties": false,
            "properties": {
                "final_stance": {
                    "enum": [
                        "favor",
                        "against",
                        "none",
                        "unrelated"
                    ],
                    "type": "string",
                    "description": "The final stance of the author towards the target."
                },
                "stance_justification": {
                    "type": "array",
                    "description": "The reasoning supporting the stance classification.",
                    "items": {
                        "type": "object",
                        "required": [
                            "phrase",
                            "reasoning",
                            "supports_stance"
                        ],
                        "properties": {
                            "phrase": {
                                "type": "string",
                                "description": "The phrase that the reasoning is about."
                            },
                            "reasoning": {
                                "type": "string",
                                "description": "The reasoning that supports the stance."
                            },
                            "supports_stance": {
                                "enum": [
                                    "favor",
                                    "against",
                                    "none"
                                ],
                                "type": "string",
                                "description": "The stance that the reasoning supports."
                            }
                        },
                        "additionalProperties": false,
                        "description": "The justification for the stance."
                    }
                },
                "stance_confidence": {
                    "type": "string",
                    "description": "The confidence of the stance classification."
                }
            }
        }
    }
}